## Χάνοντας το παιχνίδι

Μπορεί να έχεις παρατηρήσει ότι το μπλοκ `χάνει`{:class="block3myblocks"} από τις **Εντολές μου** στο αντικείμενο `Παίκτης` είναι άδειο. Θα το συμπληρώσεις και θα δημιουργήσεις όλα τα κομμάτια που χρειάζεται για να εμφανίζεται μια ωραία οθόνη «Τέλος Παιχνιδιού».

--- task ---

Αρχικά, βρες το μπλοκ `χάνει`{:class="block3myblocks"} και συμπλήρωσε τον ακόλουθο κώδικα:

```blocks3
    define χάνει
+    stop [other scripts in sprite v] :: control stack
+    broadcast [τέλος παιχνιδιού v]
+    go to x:(0) y:(0)
+    say [Τέλος παιχνιδιού!] for (2) secs
+    say [Είναι σχεδόν αδύνατο να συλλεγεί όλο το μεθάνιο, έτσι δεν είναι;] for (5) secs
+    say [Θα ήταν καλύτερα να μειώθει το ποσό που παράγεται εξ αρχής.] for (6) secs
+    say [Εξετάζοντας τις συνέπειες του τρόπου παραγωγής τροφίμων ...] for (5) secs
+    say [... μπορούμε να το κάνουμε με πιο βιώσιμο τρόπο που είναι καλύτερο για όλους.] for (6) secs
+    stop [all v]
```

--- /task ---

--- collapse ---
---
title: Τι κάνει ο κώδικας;
---

Όποτε εκτελείς το μπλοκ `χάνει`{:class="block3myblocks"}, αυτό που κάνει είναι:

 1. Σταματάει τη φυσική και άλλα σενάρια παιχνιδιού στο αντικείμενο `Παίκτης`
 2. Ενημερώνει όλα τα άλλα αντικείμενα ότι το παιχνίδι τελείωσε με **μετάδοση** ενός μηνύματος ώστε να μπορούν να αλλάξουν βάσει αυτού
 3. Μετακινεί τον `Παίκτη` στο κέντρο της οθόνης και του λέει ότι το παιχνίδι τελείωσε
 4. Σταματάει όλα τα σενάρια στο παιχνίδι

--- /collapse ---

Τώρα πρέπει να βεβαιωθείς ότι όλα τα αντικείμενα ξέρουν τι να κάνουν όταν τελειώσει το παιχνίδι και πώς να επαναφέρουν τον εαυτό τους όταν ο παίκτης ξεκινά ένα νέο παιχνίδι. **Μην ξεχνάς ότι τυχόν νέα αντικείμενα που προσθέτεις ενδέχεται να χρειάζονται επιπλέον κώδικα για αυτό!**

### Απόκρυψη των πλατφορμών και των ορίων

--- task ---

Ξεκίνα με τα βασικά: Τα αντικείμενα `Πλατφόρμες` και `Όρια` χρειάζονται και οι δύο κώδικα για να εμφανίζονται όταν ξεκινά το παιχνίδι και εξαφανίζεται στο «Τέλος παιχνιδού», οπότε πρόσθεσέ το παρακάτω σε καθένα από αυτά:

```blocks3
    when I receive [τέλος παιχνιδιού v]
    hide
```

```blocks3
    when green flag clicked
    show
```

--- /task ---

### Σταματώντας τις πορδές

Τώρα, κάτι λίγο πιο δύσκολο! Εάν κοιτάξεις τον κώδικα για το αντικείμενο `Βραβείο`, θα δεις ότι λειτουργεί με δημιουργία **κλώνων** του εαυτού του. Δηλαδή δημιουργεί αντίγραφα που εκτελούν τις εντολές του μπλοκ `όταν ξεκινήσω ως κλώνος`{:class="block3events"}.

Θα μιλήσουμε περισσότερο για το τι κάνει τους κλώνους ξεχωριστούς όταν φτάσουμε στην καρτέλα για τη δημιουργία νέων και διαφορετικών βραβείων. Προς το παρόν, αυτό που πρέπει να γνωρίζεις είναι ότι οι κλώνοι μπορούν να κάνουν **σχεδόν** όλα όσα μπορεί να κάνει ένα κανονικό αντικείμενο, συμπεριλαμβανομένης και της `λήψης μηνυμάτων`{:class="block3events"}.

Δες πώς δουλεύει το αντικείμενο `Βραβείο`. Δες αν μπορείς να καταλάβεις μέρος του κώδικά του:

```blocks3
    when green flag clicked
    set size to (35) %
    hide
    set [τιμή-βραβείου v] to [1]
    set [ταχύτητα-βραβείου v] to [1]
    set [συχνότητα-βραβείου v] to [1]
    set [δημιουργία-βραβείου v] to [true]
    set [τύπος-βραβείου v] to [1]
    repeat until <not <(δημιουργία-βραβείου) = [true]>>
        wait (συχνότητα-βραβείου) secs
        go to x: (pick random (-240) to (240)) y: (-179)
        create clone of [myself v]
    end
```

 1. Πρώτα κάνει το αρχικό Βραβείο αόρατο.
 2. Στη συνέχεια, ρυθμίζει τις μεταβλητές ελέγχου. Θα επιστρέψουμε σε αυτά αργότερα.
 3. Η μεταβλητή `δημιουργία-βραβείων`{:class="block3variables"} αποτελεί ένα διακόπτη on / off για κλωνοποίηση: ο βρόχος δημιουργεί κλώνους εάν η `δημιουργία-βραβείων`{:class="block3variables"} είναι `αληθής (true)`, και δεν κάνει τίποτα αν είναι ψευδής (false).

--- task ---

Τώρα δημιούργησε ένα μπλοκ για το αντικείμενο `Βραβείο`, έτσι ώστε να ανταποκρίνεται στη μήνυμα `Τέλος Παιχνιδιού`:

```blocks3
    when I receive [τέλος παιχνιδού v]
    hide
    set [δημιουργία-βραβείων v] to [false]
```

--- /task ---

Αυτός ο κώδικάς είναι παρόμοιος με τον κώδικα που ελέγχει τα αντικείμενα `Όρια` και `Πλατφόρμες`. Η μόνη διαφορά είναι ότι ρυθμίζεις και τη μεταβλητή `δημιουργία-βραβείων`{:class="block3variables"} σε `ψευδές (false)`, έτσι ώστε να μην δημιουργούνται νέοι κλώνοι όταν τελειώσει το παιχνίδι.

Λάβε υπόψη ότι μπορείς να χρησιμοποιήσεις αυτήν τη μεταβλητή για να μεταφέρεις μηνύματα από ένα μέρος του κώδικά σου σε άλλο! 
